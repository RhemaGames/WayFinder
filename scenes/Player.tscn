[gd_scene load_steps=10 format=2]

[ext_resource path="res://scenes/Player.gd" type="Script" id=1]
[ext_resource path="res://scenes/gui_panel_3d.tscn" type="PackedScene" id=2]
[ext_resource path="res://assets/default_theme.tres" type="Theme" id=3]
[ext_resource path="res://packs/characters/Commander/assets/PLPSF-Percussion_80_01.wav" type="AudioStream" id=5]
[ext_resource path="res://assets/sfx/zapsplat_multimedia_game_sound_coins_collect_several_at_once_002_40813.mp3.ogg" type="AudioStream" id=6]

[sub_resource type="Animation" id=1]
resource_name = "move"
tracks/0/type = "value"
tracks/0/path = NodePath("Model:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.5, 0.8, 1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 0, 0, 5.561 ), Vector3( 0, 0, 0 ), Vector3( 0, 0, -5.829 ), Vector3( 0, 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Model:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 0.5, 0.8, 1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 0, 0.271571, 0 ), Vector3( 0, 0, 0 ), Vector3( 0, 0.33192, 0 ), Vector3( 0, 0, 0 ) ]
}

[sub_resource type="Animation" id=2]
resource_name = "update"
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.8, 1 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 1229, -61.0974 ), Vector2( 1229, 15.23 ), Vector2( 1229, 15.23 ), Vector2( 1229, -61.0974 ) ]
}

[sub_resource type="BoxShape" id=3]
extents = Vector3( 0.4218, 0.48194, 1.17389 )

[sub_resource type="BoxShape" id=4]

[node name="Player" type="RigidBody" groups=[
"player",
]]
mode = 2
script = ExtResource( 1 )
SPEED = 0.018

[node name="ActionView" type="Camera" parent="."]
transform = Transform( 0.779622, -0.100115, 0.618196, 0, 0.987139, 0.159864, -0.62625, -0.124634, 0.769595, 2.134, 1.93005, 1.59658 )
current = true

[node name="Build" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 60, 115, 0 )

[node name="Targetting" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 43.7238, 75.5685, 0 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/move = SubResource( 1 )

[node name="CameraBoom" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.26745, 0 )

[node name="Movement" type="Camera" parent="CameraBoom"]
transform = Transform( -0.0232981, 4.36995e-08, -0.999729, -4.36995e-08, 1, 4.47298e-08, 0.999729, 4.47297e-08, -0.0232981, -5.30297, 0.809948, -0.175748 )
doppler_tracking = 2
fov = 78.7

[node name="HealthDisplay" parent="CameraBoom/Movement" instance=ExtResource( 2 )]
transform = Transform( 0.496273, -1.85177e-14, 0.0853078, 3.10861e-14, 0.3, 9.64214e-17, -0.0609342, 2.23203e-15, 0.694782, -3.055, 1.823, -2.7 )
visible = false
UI = "res://scenes/2DUI/PlayerUI/Health.tscn"
handle_input = false
resolution = Vector2( 2027, 758 )

[node name="Modifers" parent="CameraBoom/Movement" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.163, -1.72, -1.134 )
visible = false
UI = "res://scenes/2DUI/PlayerUI/Modifers.tscn"
handle_input = false

[node name="CP" parent="CameraBoom/Movement" instance=ExtResource( 2 )]
transform = Transform( 0.397018, 0, -0.0487476, 0, 0.4, 0, 0.0487476, 0, 0.397018, 3.215, 1.774, -2.676 )
visible = false
UI = "res://scenes/2DUI/PlayerUI/ControlPoints.tscn"
handle_input = false
resolution = Vector2( 238, 137 )

[node name="Model" type="Position3D" parent="."]

[node name="Puzzle" type="Spatial" parent="."]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 4.41114, 4.96975, -6.03664 )
visible = false

[node name="commandPointFound" type="PanelContainer" parent="."]
visible = false
anchor_left = 0.899707
anchor_top = -0.0795544
anchor_right = 0.956076
anchor_bottom = -0.00924134
margin_left = 0.000244141
margin_top = 0.000354767
margin_right = 0.000244141
margin_bottom = 0.000350952
grow_horizontal = 0
theme = ExtResource( 3 )
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": true
}

[node name="Panel" type="Panel" parent="commandPointFound"]
margin_left = 6.0
margin_top = 10.0
margin_right = 71.0001
margin_bottom = 44.0004

[node name="HBoxContainer" type="HBoxContainer" parent="commandPointFound"]
margin_left = 6.0
margin_top = 10.0
margin_right = 71.0001
margin_bottom = 44.0004
grow_horizontal = 0
grow_vertical = 2
custom_constants/separation = 10
alignment = 1

[node name="Label" type="Label" parent="commandPointFound/HBoxContainer"]
margin_right = 47.0
margin_bottom = 34.0
text = "CP:"

[node name="count" type="Label" parent="commandPointFound/HBoxContainer"]
margin_left = 57.0
margin_right = 65.0
margin_bottom = 34.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="commandPointFound"]
anims/update = SubResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -0.134078, 1.07401, 0.0301063 )
shape = SubResource( 3 )

[node name="PlayerArea" type="Area" parent="." groups=[
"player",
]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.135183, 0 )

[node name="CollisionShape" type="CollisionShape" parent="PlayerArea"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0136, 0 )
shape = SubResource( 4 )

[node name="Audio" type="Node" parent="."]

[node name="CP_Pickup" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource( 6 )
volume_db = -30.0
bus = "sfx"

[node name="Theme" type="AudioStreamPlayer3D" parent="Audio"]
transform = Transform( 0.0726813, 0, 0.997355, 0, 1, 0, -0.997355, 0, 0.0726813, 0, 0, 0 )
stream = ExtResource( 5 )
unit_db = 10.0
max_distance = 100.0
out_of_range_mode = 1
bus = "bgm"
emission_angle_enabled = true

[node name="Commands" type="Spatial" parent="."]
transform = Transform( 0.779622, -0.100115, 0.618196, 0, 0.987139, 0.159864, -0.62625, -0.124634, 0.769595, 2.134, 1.93005, 1.59658 )
visible = false

[node name="UI" parent="Commands" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -1.865 )
visible = false
UI = "res://scenes/2DUI/PlayerUI/Commands.tscn"
distance = 2
[connection signal="body_shape_entered" from="." to="." method="_on_Player_body_shape_entered"]
[connection signal="loadup" from="." to="." method="_on_Player_loadup"]
[connection signal="area_shape_entered" from="PlayerArea" to="." method="_on_PlayerArea_area_shape_entered"]
